<template>
  <div class="content">
    <section class="flex-row">
      <div class="flex2" v-if="data">
        <div style="height: 100%;width: 100%;position: relative" id="box">
          <div class="svg">
            <svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              width="100%"
              height="100%"
              viewBox="0 0 1300 1000"
              enable-background="new 0 0 1300 1000"
              xml:space="preserve"
              preserveAspectRatio="none"
            >
              <g>
                <defs>
                  <polygon
                    id="cube"
                    fill="#46A6B5"
                    points="433,14 427,14 431,6 437,6 		"
                  />
                </defs>
                <g opacity="0.4">
                  <line
                    fill="none"
                    stroke="#46A6B5"
                    stroke-miterlimit="10"
                    x1="421.688"
                    y1="13.705"
                    x2="289.604"
                    y2="13.705"
                  />
                  <path
                    d="M 521 17 L 33 17 L 9.5 40 L 9.5 399 L 497 399 L521 375 Z"
                    fill="none"
                    stroke="#46A6B5"
                  ></path>
                  <line
                    fill="none"
                    stroke="#46A6B5"
                    stroke-miterlimit="10"
                    x1="421.688"
                    y1="10.883"
                    x2="303.854"
                    y2="10.883"
                  />
                  <line
                    fill="none"
                    stroke="#46A6B5"
                    stroke-miterlimit="10"
                    x1="421.688"
                    y1="8.171"
                    x2="318.272"
                    y2="8.171"
                  />
                </g>
                <g id="cubes1" opacity="0.4">
                  <use xlink:href="#cube" x="0" y="0"></use>
                  <use xlink:href="#cube" x="7" y="0"></use>
                  <use xlink:href="#cube" x="14" y="0"></use>
                  <use xlink:href="#cube" x="21" y="0"></use>
                  <use xlink:href="#cube" x="28" y="0"></use>
                  <use xlink:href="#cube" x="35" y="0"></use>
                  <use xlink:href="#cube" x="42" y="0"></use>
                  <use xlink:href="#cube" x="49" y="0"></use>
                  <use xlink:href="#cube" x="56" y="0"></use>
                  <use xlink:href="#cube" x="63" y="0"></use>
                  <use xlink:href="#cube" x="70" y="0"></use>
                  <use xlink:href="#cube" x="77" y="0"></use>
                  <use xlink:href="#cube" x="84" y="0"></use>
                </g>
                <use xlink:href="#cubes1" x="-404" y="382"></use>
              </g>
              <g>
                <g opacity="0.4">
                  <path
                    fill="none"
                    stroke="#46A6B5"
                    d="M 1282 4 L 544 4 L 531 20 L 531 99 L 544 115 L 544 289 L 531 305 L 531 385 L 544 401 L 1282 401 L 1294 385 L 1294 305 L 1282 289 L 1282 115 L 1294 99 L 1294 20 Z "
                  ></path>
                </g>
                <use xlink:href="#cubes1" x="129" y="5"></use>
                <use
                  xlink:href="#cubes1"
                  transform="translate(757,25) scale(1 -1)"
                ></use>
              </g>
              <g>
                <g opacity="0.4">
                  <path
                    fill="none"
                    stroke="#46A6B5"
                    d="M 1281 604 L 665 604 L 652 620 L 652 698 L 665 714 L 665 885 L 652 901 L 652 979 L 665 995 L 1281 995 L 1294 979 L 1294 901 L 1281 885 L 1281 714 L 1294 698 L 1294 620 Z"
                  ></path>
                </g>
                <use xlink:href="#cubes1" x="238" y="605"></use>
                <use
                  xlink:href="#cubes1"
                  transform="translate(758, 625) scale(1 -1)"
                ></use>
              </g>
              <g>
                <g opacity="0.4">
                  <path
                    d="M 641 614 L 29 614 L 5.5 637 L 5.5 996 L 617 996 L 641 973 Z"
                    fill="none"
                    stroke="#46A6B5"
                  ></path>
                  <line
                    fill="none"
                    stroke="#46A6B5"
                    stroke-miterlimit="10"
                    x1="543.8"
                    y1="610.785"
                    x2="412.889"
                    y2="610.785"
                  />
                  <line
                    fill="none"
                    stroke="#46A6B5"
                    stroke-miterlimit="10"
                    x1="543.8"
                    y1="607.964"
                    x2="427.012"
                    y2="607.964"
                  />
                  <line
                    fill="none"
                    stroke="#46A6B5"
                    stroke-miterlimit="10"
                    x1="543.8"
                    y1="605.252"
                    x2="441.303"
                    y2="605.252"
                  />
                </g>
                <use xlink:href="#cubes1" x="122" y="597"></use>
                <use xlink:href="#cubes1" x="-414" y="979"></use>
              </g>
              <g id="border1">
                <path
                  id="line1"
                  d="M 113 201 L 98 201 L 98 216"
                  fill="none"
                  stroke="#2BD0E3"
                ></path>
                <path
                  d="M 442 201 L 456 201 L 456 216"
                  fill="none"
                  stroke="#2BD0E3"
                ></path>
                <path
                  d="M 113 379.5 L 98 379.5 L 98 365"
                  fill="none"
                  stroke="#2BD0E3"
                ></path>
                <path
                  d="M 442 379.5 L 456 379.5 L 456 365"
                  fill="none"
                  stroke="#2BD0E3"
                ></path>
                <g id="shadow1">
                  <linearGradient
                    id="右_x5F_energy_x5F_panel_x5F_shadow_x5F_lower_6_"
                    gradientUnits="userSpaceOnUse"
                    x1="35.8997"
                    y1="493.4006"
                    x2="51.8997"
                    y2="493.4006"
                    gradientTransform="matrix(1 0 0 -1 404.1001 783.4009)"
                  >
                    <stop
                      offset="0"
                      style="stop-color:#2BD0E3;stop-opacity:0"
                    />
                    <stop
                      offset="0.9944"
                      style="stop-color:#2BD0E3;stop-opacity:0.2"
                    />
                  </linearGradient>
                  <rect
                    x="440"
                    y="201"
                    fill="url(#右_x5F_energy_x5F_panel_x5F_shadow_x5F_lower_6_)"
                    width="16"
                    height="178"
                  />
                </g>
                <use
                  xlink:href="#shadow1"
                  transform="translate(554, 0) scale(-1 1)"
                ></use>
                <g id="shadow2">
                  <linearGradient
                    id="上_x5F_energy_x5F_panel_x5F_shadow_x5F_lower_6_"
                    gradientUnits="userSpaceOnUse"
                    x1="1009.4001"
                    y1="723.1008"
                    x2="1027.4001"
                    y2="723.1008"
                    gradientTransform="matrix(0 -1 -1 0 1000.1006 1228.4004)"
                  >
                    <stop
                      offset="0"
                      style="stop-color:#2BD0E3;stop-opacity:0"
                    />
                    <stop
                      offset="0.9944"
                      style="stop-color:#2BD0E3;stop-opacity:0.2"
                    />
                  </linearGradient>
                  <rect
                    x="98"
                    y="201"
                    fill="url(#上_x5F_energy_x5F_panel_x5F_shadow_x5F_lower_6_)"
                    width="358"
                    height="18"
                  />
                </g>
                <use
                  xlink:href="#shadow2"
                  transform="translate(0, 580) scale(1 -1)"
                ></use>
              </g>
              <g>
                <g id="border3">
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="685"
                    y1="627.5"
                    x2="700"
                    y2="627.5"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="684.5"
                    y1="642"
                    x2="684.5"
                    y2="627"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="1063.5"
                    y1="628"
                    x2="1063.5"
                    y2="643"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="1049"
                    y1="627.5"
                    x2="1064"
                    y2="627.5"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="685"
                    y1="806.5"
                    x2="700"
                    y2="806.5"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="684.5"
                    y1="792"
                    x2="684.5"
                    y2="807"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="1063.5"
                    y1="806"
                    x2="1063.5"
                    y2="791"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="1049"
                    y1="806.5"
                    x2="1064"
                    y2="806.5"
                  />

                  <linearGradient
                    id="SVGID_1_"
                    gradientUnits="userSpaceOnUse"
                    x1="642.8997"
                    y1="66.4006"
                    x2="658.9001"
                    y2="66.4006"
                    gradientTransform="matrix(1 0 0 -1 404.1001 783.4009)"
                  >
                    <stop
                      offset="0"
                      style="stop-color:#2BD0E3;stop-opacity:0"
                    />
                    <stop
                      offset="0.9944"
                      style="stop-color:#2BD0E3;stop-opacity:0.2"
                    />
                  </linearGradient>
                  <rect
                    x="1047"
                    y="628"
                    fill="url(#SVGID_1_)"
                    width="16"
                    height="178"
                  />

                  <linearGradient
                    id="SVGID_2_"
                    gradientUnits="userSpaceOnUse"
                    x1="744.0994"
                    y1="66.4006"
                    x2="760.0994"
                    y2="66.4006"
                    gradientTransform="matrix(-1 0 0 -1 1445.0991 783.4009)"
                  >
                    <stop
                      offset="0"
                      style="stop-color:#2BD0E3;stop-opacity:0"
                    />
                    <stop
                      offset="0.9944"
                      style="stop-color:#2BD0E3;stop-opacity:0.2"
                    />
                  </linearGradient>
                  <rect
                    x="685"
                    y="628"
                    fill="url(#SVGID_2_)"
                    width="16"
                    height="178"
                  />

                  <linearGradient
                    id="SVGID_3_"
                    gradientUnits="userSpaceOnUse"
                    x1="584.4001"
                    y1="125.6008"
                    x2="600.4001"
                    y2="125.6008"
                    gradientTransform="matrix(0 -1 -1 0 1000.1006 1228.4004)"
                  >
                    <stop
                      offset="0"
                      style="stop-color:#2BD0E3;stop-opacity:0"
                    />
                    <stop
                      offset="0.9944"
                      style="stop-color:#2BD0E3;stop-opacity:0.2"
                    />
                  </linearGradient>
                  <rect
                    x="685"
                    y="628"
                    fill="url(#SVGID_3_)"
                    width="379"
                    height="16"
                  />

                  <linearGradient
                    id="SVGID_4_"
                    gradientUnits="userSpaceOnUse"
                    x1="602.5999"
                    y1="125.6008"
                    x2="618.5999"
                    y2="125.6008"
                    gradientTransform="matrix(0 1 -1 0 1000.1006 187.4004)"
                  >
                    <stop
                      offset="0"
                      style="stop-color:#2BD0E3;stop-opacity:0"
                    />
                    <stop
                      offset="0.9944"
                      style="stop-color:#2BD0E3;stop-opacity:0.2"
                    />
                  </linearGradient>
                  <rect
                    x="685"
                    y="790"
                    fill="url(#SVGID_4_)"
                    width="379"
                    height="16"
                  />
                </g>
                <use xlink:href="#border3" x="0" y="181"></use>
              </g>
              <use xlink:href="#border1" x="455" y="0"></use>
              <use xlink:href="#border1" x="816" y="0"></use>
              <g>
                <g id="border2">
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="42"
                    y1="621.5"
                    x2="57"
                    y2="621.5"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="41.5"
                    y1="636"
                    x2="41.5"
                    y2="621"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="220.5"
                    y1="622"
                    x2="220.5"
                    y2="637"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="206"
                    y1="621.5"
                    x2="221"
                    y2="621.5"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="42"
                    y1="800.5"
                    x2="57"
                    y2="800.5"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="41.5"
                    y1="786"
                    x2="41.5"
                    y2="801"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="220.5"
                    y1="800"
                    x2="220.5"
                    y2="785"
                  />
                  <line
                    fill="none"
                    stroke="#2BD0E3"
                    stroke-miterlimit="10"
                    x1="206"
                    y1="800.5"
                    x2="221"
                    y2="800.5"
                  />

                  <linearGradient
                    id="SVGID_9_"
                    gradientUnits="userSpaceOnUse"
                    x1="-200.1003"
                    y1="72.4006"
                    x2="-184.1003"
                    y2="72.4006"
                    gradientTransform="matrix(1 0 0 -1 404.1001 783.4009)"
                  >
                    <stop
                      offset="0"
                      style="stop-color:#2BD0E3;stop-opacity:0"
                    />
                    <stop
                      offset="0.9944"
                      style="stop-color:#2BD0E3;stop-opacity:0.2"
                    />
                  </linearGradient>
                  <rect
                    x="204"
                    y="622"
                    fill="url(#SVGID_9_)"
                    width="16"
                    height="178"
                  />

                  <linearGradient
                    id="SVGID_10_"
                    gradientUnits="userSpaceOnUse"
                    x1="1387.0994"
                    y1="72.4006"
                    x2="1403.0994"
                    y2="72.4006"
                    gradientTransform="matrix(-1 0 0 -1 1445.0991 783.4009)"
                  >
                    <stop
                      offset="0"
                      style="stop-color:#2BD0E3;stop-opacity:0"
                    />
                    <stop
                      offset="0.9944"
                      style="stop-color:#2BD0E3;stop-opacity:0.2"
                    />
                  </linearGradient>
                  <rect
                    x="42"
                    y="622"
                    fill="url(#SVGID_10_)"
                    width="16"
                    height="178"
                  />

                  <linearGradient
                    id="SVGID_11_"
                    gradientUnits="userSpaceOnUse"
                    x1="590.4001"
                    y1="869.1008"
                    x2="606.4001"
                    y2="869.1008"
                    gradientTransform="matrix(0 -1 -1 0 1000.1006 1228.4004)"
                  >
                    <stop
                      offset="0"
                      style="stop-color:#2BD0E3;stop-opacity:0"
                    />
                    <stop
                      offset="0.9944"
                      style="stop-color:#2BD0E3;stop-opacity:0.2"
                    />
                  </linearGradient>
                  <rect
                    x="42"
                    y="622"
                    fill="url(#SVGID_11_)"
                    width="178"
                    height="16"
                  />

                  <linearGradient
                    id="SVGID_12_"
                    gradientUnits="userSpaceOnUse"
                    x1="596.5999"
                    y1="869.1008"
                    x2="612.5999"
                    y2="869.1008"
                    gradientTransform="matrix(0 1 -1 0 1000.1006 187.4004)"
                  >
                    <stop
                      offset="0"
                      style="stop-color:#2BD0E3;stop-opacity:0"
                    />
                    <stop
                      offset="0.9944"
                      style="stop-color:#2BD0E3;stop-opacity:0.2"
                    />
                  </linearGradient>
                  <rect
                    x="42"
                    y="784"
                    fill="url(#SVGID_12_)"
                    width="178"
                    height="16"
                  />
                </g>
                <use xlink:href="#border2" x="181" y="0"></use>
                <use xlink:href="#border2" x="0" y="181"></use>
                <use xlink:href="#border2" x="181" y="181"></use>
              </g>
              <g>
                <g id="board2">
                  <image
                    overflow="visible"
                    width="165"
                    height="253"
                    xlink:href="../assets/img/board2.png"
                    transform="matrix(1 0 0 1 462 623)"
                  ></image>
                </g>
                <use xlink:href="#board2" x="641" y="0"></use>
                <g id="board1">
                  <image
                    overflow="visible"
                    width="241"
                    height="131"
                    xlink:href="../assets/img/board1.png"
                    transform="matrix(1 0 0 1 156 63)"
                  ></image>
                </g>
                <use xlink:href="#board1" x="460" y="0"></use>
                <use xlink:href="#board1" x="817" y="0"></use>
                <text
                  transform="matrix(1 0 0 1 200 92)"
                  fill="#FFFFFF"
                  font-size="16"
                >
                  {{ InfoBoxGridSuppliesPower.totalname }}
                </text>
                <text
                  transform="matrix(1 0 0 1 201.0002 124.1184)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxGridSuppliesPower.Voltage }}
                </text>
                <text
                  transform="matrix(1 0 0 1 201.0002 145.3264)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxGridSuppliesPower.Current }}
                </text>
                <text
                  transform="matrix(1 0 0 1 201.0002 169.1184)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxGridSuppliesPower.Frequency }}
                </text>
                <text
                  transform="matrix(1 0 0 1 648.7502 92.0002)"
                  fill="#FFFFFF"
                  font-size="16"
                >
                  {{ InfoBoxDistributionBox.totalname }}
                </text>
                <text
                  transform="matrix(1 0 0 1 649.7502 124.1184)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxDistributionBox.Supplies }}
                </text>
                <text
                  transform="matrix(1 0 0 1 649.7502 145.3264)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxDistributionBox.LongRange }}
                </text>
                <text
                  transform="matrix(1 0 0 1 649.7502 169.1184)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxDistributionBox.Temp }}
                </text>
                <text
                  transform="matrix(1 0 0 1 1013.0837 93.0002)"
                  fill="#FFFFFF"
                  font-size="16"
                >
                  {{ InfoBoxLoad.totalname }}
                </text>
                <text
                  transform="matrix(1 0 0 1 1014.0837 125.1184)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxLoad.Voltage }}
                </text>
                <text
                  transform="matrix(1 0 0 1 1014.0837 146.3264)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxLoad.Current }}
                </text>
                <text
                  transform="matrix(1 0 0 1 1014.0837 170.1184)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxLoad.Frequency }}
                </text>
                <text
                  transform="matrix(1 0 0 1 486.0002 669.4417)"
                  fill="#FFFFFF"
                  font-size="16"
                >
                  {{ InfoBoxBattery.totalname }}
                </text>
                <text
                  transform="matrix(1 0 0 1 487.0002 701.5588)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxBattery.AverageVoltage }}
                </text>
                <text
                  transform="matrix(1 0 0 1 487.0002 730.3811)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxBattery.SummaryCurrent }}
                </text>
                <text
                  transform="matrix(1 0 0 1 487.0002 759.2014)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxBattery.EnvironmentTemp }}
                </text>
                <text
                  transform="matrix(1 0 0 1 487.0002 788.0237)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxBattery.BatteryTemp }}
                </text>
                <text
                  transform="matrix(1 0 0 1 487.0002 816.844)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxBattery.MaxVoltage }}
                </text>
                <text
                  transform="matrix(1 0 0 1 487.0002 845.6663)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InfoBoxBattery.MinVoltage }}
                </text>
                <text
                  transform="matrix(1 0 0 1 1129.2341 671.0901)"
                  fill="#FFFFFF"
                  font-size="16"
                >
                  {{ InverterModule.totalname }}
                </text>
                <text
                  transform="matrix(1 0 0 1 1130.2341 703.2073)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InverterModule.AverageVoltage }}
                </text>
                <text
                  transform="matrix(1 0 0 1 1130.2341 732.0295)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InverterModule.SummaryCurrent }}
                </text>
                <text
                  transform="matrix(1 0 0 1 1130.2341 760.8499)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InverterModule.EnvironmentTemp }}
                </text>
                <text
                  transform="matrix(1 0 0 1 1130.2341 789.6721)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InverterModule.BatteryTemp }}
                </text>
                <text
                  transform="matrix(1 0 0 1 1130.2341 818.4924)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InverterModule.MaxVoltage }}
                </text>
                <text
                  transform="matrix(1 0 0 1 1130.2341 847.3147)"
                  fill="#FFFFFF"
                  font-size="12"
                >
                  {{ InverterModule.MinVoltage }}
                </text>
              </g>
              <g>
                <g>
                  <path
                    fill="#FF7BAC"
                    d="M674.498,928.639c-46.575,0.215-93.15,0.43-139.727,0.645c-33.629,0.155-67.258,0.312-100.887,0.467
              c-5.803,0.025-5.806,9.025,0,9c46.576-0.216,93.15-0.431,139.727-0.646c33.629-0.155,67.258-0.311,100.887-0.466
              C680.302,937.612,680.303,928.612,674.498,928.639L674.498,928.639z"
                  />
                </g>
                <g>
                  <use
                    xlink:href="#arrow3"
                    transform="translate(-597.5, 375) rotate(90, 1082.5, 559)"
                  ></use>
                  <use
                    xlink:href="#arrow3"
                    transform="translate(-523.5, 374.3) rotate(90, 1082.5, 559)"
                  ></use>
                  <use
                    xlink:href="#arrow3"
                    transform="translate(-446.5, 374.2) rotate(90, 1082.5, 559)"
                  ></use>
                </g>
                <g>
                  <path
                    fill="#FF7BAC"
                    d="M438.527,930.745c-0.212-45.856-0.423-91.715-0.635-137.571c-0.17-36.89-0.34-73.777-0.511-110.666
              c-0.027-5.804-9.027-5.806-9,0c0.212,45.856,0.423,91.715,0.635,137.571c0.17,36.89,0.34,73.777,0.511,110.666
              C429.554,936.549,438.554,936.551,438.527,930.745L438.527,930.745z"
                  />
                </g>
                <g>
                  <use
                    xlink:href="#arrow3"
                    transform="translate(-649, 270) rotate(180, 1082.5, 559)"
                  ></use>
                  <use
                    xlink:href="#arrow3"
                    transform="translate(-649, 196) rotate(180, 1082.5, 559)"
                  ></use>
                  <use
                    xlink:href="#arrow3"
                    transform="translate(-648.5, 340) rotate(180, 1082.5, 559)"
                  ></use>
                </g>
                <g id="shortline3">
                  <path
                    fill="#FF7BAC"
                    d="M431.457,678.407c-12.273,0.059-24.548,0.114-36.821,0.172c-5.803,0.027-5.806,9.027,0,9
              c12.273-0.058,24.548-0.113,36.821-0.172C437.26,687.381,437.262,678.381,431.457,678.407L431.457,678.407z"
                  />
                </g>
                <use xlink:href="#shortline3" x="0" y="181"></use>
                <g>
                  <path
                    fill="#FF7BAC"
                    d="M678.607,932.745c0.212-45.856,0.424-91.715,0.636-137.571c0.17-36.89,0.341-73.777,0.511-110.666
              c0.026-5.806-8.974-5.804-9,0c-0.211,45.856-0.424,91.715-0.636,137.571c-0.17,36.89-0.341,73.777-0.511,110.666
              C669.582,938.551,678.582,938.549,678.607,932.745L678.607,932.745z"
                  />
                </g>
                <g>
                  <use xlink:href="#arrow3" x="-408" y="262"></use>
                  <use xlink:href="#arrow3" x="-408" y="336"></use>
                  <use xlink:href="#arrow3" x="-407.5" y="192"></use>
                </g>
                <g id="shortline4">
                  <path
                    fill="#FF7BAC"
                    d="M676.678,689.452c9.063,0.042,18.128,0.085,27.19,0.127c5.806,0.027,5.803-8.973,0-9
              c-9.063-0.042-18.128-0.085-27.19-0.127C670.873,680.426,670.875,689.426,676.678,689.452L676.678,689.452z"
                  />
                </g>
                <use xlink:href="#shortline4" x="0" y="183"></use>
                <g id="shortline2">
                  <path
                    fill="#FF7BAC"
                    d="M205.678,687.441c9.888,0.046,19.774,0.093,29.662,0.139c5.806,0.027,5.803-8.973,0-9
              c-9.888-0.046-19.774-0.093-29.662-0.139C199.873,678.413,199.875,687.413,205.678,687.441L205.678,687.441z"
                  />
                </g>
                <use xlink:href="#shortline2" x="0" y="181"></use>
              </g>
              <g id="供电线-供电电网到母线">
                <g>
                  <path
                    fill="#F7931E"
                    d="M266.25,495c0-47.696,0-95.393,0-143.089c0-1.137,0-2.274,0-3.411c0-5.805-9-5.805-9,0
                c0,47.695,0,95.392,0,143.088c0,1.137,0,2.274,0,3.412C257.25,500.804,266.25,500.804,266.25,495L266.25,495z"
                  />
                </g>
                <g>
                  <g id="arrow2">
                    <g>
                      <polygon
                        fill="#2BD0E3"
                        points="264.711,392 261.211,406.908 257.711,392 					"
                      />
                    </g>
                    <line
                      fill="none"
                      stroke="#2BD0E3"
                      stroke-width="3"
                      stroke-miterlimit="10"
                      x1="261.5"
                      y1="356"
                      x2="261.5"
                      y2="394"
                    />
                  </g>
                  <use xlink:href="#arrow2" x="0" y="69"></use>
                </g>
              </g>
              <g id="供电线-母线到配电柜">
                <g>
                  <path
                    fill="#F7931E"
                    d="M731.25,501c0-47.696,0-95.393,0-143.089c0-1.137,0-2.274,0-3.411c0-5.805-9-5.805-9,0
                c0,47.695,0,95.392,0,143.088c0,1.137,0,2.274,0,3.412C722.25,506.804,731.25,506.804,731.25,501L731.25,501z"
                  />
                </g>
                <g>
                  <use
                    xlink:href="#arrow2"
                    transform="translate(988,768) rotate(180)"
                  ></use>
                  <use
                    xlink:href="#arrow2"
                    transform="translate(988,837) rotate(180)"
                  ></use>
                </g>
              </g>
              <g id="供电线-配电箱到用电负载">
                <g>
                  <path
                    fill="#F7931E"
                    d="M832.375,299.375c47.696,0,95.393,0,143.089,0c1.138,0,2.273,0,3.411,0c5.805,0,5.805-9,0-9
                c-47.695,0-95.392,0-143.088,0c-1.138,0-2.273,0-3.412,0C826.571,290.375,826.571,299.375,832.375,299.375L832.375,299.375z"
                  />
                </g>
                <g>
                  <use
                    xlink:href="#arrow2"
                    transform="translate(496,556) rotate(-90)"
                  ></use>
                  <use
                    xlink:href="#arrow2"
                    transform="translate(565,556) rotate(-90)"
                  ></use>
                </g>
              </g>
              <g id="PCS输出线">
                <g id="shortline1">
                  <path
                    fill="#F7931E"
                    d="M1081.457,698.407c-12.273,0.059-24.548,0.114-36.821,0.172c-5.804,0.027-5.806,9.027,0,9
        					c12.273-0.058,24.548-0.113,36.821-0.172C1087.26,707.381,1087.262,698.381,1081.457,698.407L1081.457,698.407z"
                  />
                </g>
                <g>
                  <path
                    fill="#F7931E"
                    d="M1077.557,507.5c0.166,36.044,0.333,72.087,0.499,108.131c0.293,63.598,0.587,127.194,0.88,190.794
        					c0.12,25.856,0.239,51.716,0.358,77.573c0.025,5.804,9.025,5.806,9,0c-0.166-36.044-0.333-72.087-0.499-108.131
        					c-0.293-63.598-0.587-127.194-0.882-190.794c-0.118-25.856-0.237-51.716-0.356-77.574
        					C1086.53,501.697,1077.53,501.695,1077.557,507.5L1077.557,507.5z"
                  />
                </g>
                <use xlink:href="#shortline1" x="0" y="181"></use>
                <g>
                  <g id="arrow3">
                    <g>
                      <polygon
                        fill="#2BD0E3"
                        points="1079.25,561 1082.75,536.493 1086.25,561 						"
                      />
                    </g>
                    <line
                      fill="none"
                      stroke="#2BD0E3"
                      stroke-width="3"
                      stroke-miterlimit="10"
                      x1="1082.5"
                      y1="585"
                      x2="1082.5"
                      y2="559"
                    />
                  </g>
                  <use xlink:href="#arrow3" x="0.3" y="144"></use>
                  <use xlink:href="#arrow3" x="0" y="70"></use>
                  <use xlink:href="#arrow3" x="1" y="295"></use>
                  <use xlink:href="#arrow3" x="0.5" y="221"></use>
                </g>
              </g>
              <g id="母线">
                <g>
                  <g>
                    <path
                      fill="#F7931E"
                      d="M15,508.5c22.446,0,44.893,0,67.337,0c54.062,0,108.121,0,162.183,0c65.761,0,131.521,0,197.282,0
                c57.545,0,115.091,0,172.637,0c29.416,0,58.832,0,88.248,0c0.771,0,1.542,0,2.313,0c11.606,0,11.606-18,0-18
                c-22.445,0-44.893,0-67.338,0c-54.061,0-108.121,0-162.182,0c-65.761,0-131.521,0-197.282,0c-57.545,0-115.091,0-172.637,0
                c-29.416,0-58.832,0-88.248,0c-0.771,0-1.542,0-2.314,0C3.393,490.5,3.393,508.5,15,508.5L15,508.5z"
                    />
                  </g>
                  <g>
                    <g id="arrow1">
                      <g>
                        <polygon
                          fill="#2BD0E3"
                          points="87,493.886 111.506,498.886 87,503.886 					"
                        />
                      </g>
                      <line
                        fill="none"
                        stroke="#2BD0E3"
                        stroke-width="5"
                        stroke-miterlimit="10"
                        x1="28"
                        y1="499.5"
                        x2="90"
                        y2="499.5"
                      />
                    </g>
                    <use xlink:href="#arrow1" x="135" y="0"></use>
                    <use xlink:href="#arrow1" x="271" y="0"></use>
                    <use xlink:href="#arrow1" x="406" y="0"></use>
                    <use xlink:href="#arrow1" x="542" y="0"></use>
                  </g>
                </g>
                <g>
                  <g>
                    <path
                      fill="#F7931E"
                      d="M682.5,508.5c25.111,0,50.223,0,75.332,0c57.979,0,115.955,0,173.934,0c64.811,0,129.622,0,194.433,0
                c45.611,0,91.225,0,136.835,0c7.489,0,14.979,0,22.469,0c11.606,0,11.606-18,0-18c-25.111,0-50.223,0-75.332,0
                c-57.979,0-115.955,0-173.934,0c-64.811,0-129.622,0-194.433,0c-45.611,0-91.225,0-136.835,0c-7.489,0-14.979,0-22.469,0
                C670.893,490.5,670.893,508.5,682.5,508.5L682.5,508.5z"
                    />
                  </g>
                  <g>
                    <use
                      xlink:href="#arrow1"
                      transform="translate(852,999) rotate(180)"
                    ></use>
                    <use
                      xlink:href="#arrow1"
                      transform="translate(1000,999) rotate(180)"
                    ></use>
                    <use
                      xlink:href="#arrow1"
                      transform="translate(1148,999) rotate(180)"
                    ></use>
                    <use
                      xlink:href="#arrow1"
                      transform="translate(1296,999) rotate(180)"
                    ></use>
                  </g>
                </g>
              </g>
              <g>
                <image
                  overflow="visible"
                  width="450"
                  height="270"
                  xlink:href="../assets/img/village.png"
                  transform="matrix(0.4611 0 0 0.4611 989.2441 228.2466)"
                ></image>
              </g>
              <g>
                <image
                  overflow="visible"
                  width="600"
                  height="450"
                  xlink:href="../assets/img/distribution.png"
                  transform="matrix(0.2963 0 0 0.2963 646.9736 225.5415)"
                ></image>
              </g>
              <g>
                <image
                  id="container"
                  overflow="visible"
                  width="794"
                  height="340"
                  xlink:href="../assets/img/container.png"
                  transform="matrix(0.4024 0 0 0.4024 709 644)"
                ></image>
                <use xlink:href="#container" x="4" y="184"></use>
              </g>
              <g>
                <image
                  id="battery"
                  overflow="visible"
                  width="691"
                  height="731"
                  xlink:href="../assets/img/battery.png"
                  transform="matrix(0.141 0 0 0.141 286 648)"
                ></image>
                <use xlink:href="#battery" x="-21" y="12"></use>
                <use xlink:href="#battery" x="-48" y="27"></use>
              </g>
              <g>
                <use xlink:href="#battery" x="-179" y="0"></use>
                <use xlink:href="#battery" x="-201" y="12"></use>
                <use xlink:href="#battery" x="-230" y="27"></use>
              </g>
              <g>
                <use xlink:href="#battery" x="-179" y="180"></use>
                <use xlink:href="#battery" x="-201" y="192"></use>
                <use xlink:href="#battery" x="-230" y="207"></use>
              </g>
              <g>
                <use xlink:href="#battery" x="0" y="180"></use>
                <use xlink:href="#battery" x="-21" y="192"></use>
                <use xlink:href="#battery" x="-48" y="207"></use>
              </g>
              <g>
                <image
                  overflow="visible"
                  width="279"
                  height="150"
                  xlink:href="../assets/img/substation.png"
                  transform="matrix(0.9999 0 0 0.9999 137.5171 215.5098)"
                ></image>
              </g>
            </svg>
          </div>
        </div>
      </div>
      <div class="flex flex-column" v-if="data">
        <div class="flex">
          <FrameworkBorder :title="WeeklyElectricityStatisticsBarChart.Name">
            <div class="flex-column" style="height: 100%">
              <div class="flex5">
                <div id="myChart1" class="charts"></div>
              </div>
              <div class="flex2 flex-row batterys-box" v-if="batteryArr">
                <div
                  class="batter-box flex-column"
                  v-for="(item, index) in batteryArr"
                  :key="index"
                >
                  <div class="flex">
                    <FrameworkBattery />
                  </div>
                  <div class="batter-box-text">
                    <p class="title">
                      {{ item.name }}
                    </p>
                    <p class="value">{{ item.value }}{{ item.unit }}</p>
                  </div>
                </div>
              </div>
            </div>
          </FrameworkBorder>
        </div>
        <div class="flex">
          <FrameworkBorder :title="DayOperationInformationLineChart.Name">
            <div class="flex-column" style="height: 100%">
              <div class="flex5">
                <div id="myChart2" class="charts"></div>
              </div>
              <div class="flex2 flex-row batterys-box" v-if="batteryArr1">
                <div
                  class="batter-box flex-column flex"
                  v-for="(item, index) in batteryArr1"
                  :key="index"
                >
                  <div class="flex">
                    <FrameworkBattery />
                  </div>
                  <div class="batter-box-text">
                    <p class="title">
                      {{ item.name }}
                    </p>
                    <p class="value">{{ item.value }}{{ item.unit }}</p>
                  </div>
                </div>
              </div>
            </div>
          </FrameworkBorder>
        </div>
      </div>
    </section>
  </div>
</template>

<script>
export default {
  data() {
    return {
      grid: {
        left: "3%",
        right: "4%",
        top: "25%",
        bottom: "10%",
        containLabel: true
      },
      yAxis: {
        type: "value",
        axisLabel: { color: "#46a6b5", fontSize: 12 }, // x轴字体颜色

        axisLine: {
          lineStyle: { color: "#46a6b5" } // x轴坐标轴颜色
        },
        splitLine: {
          show: false
        }
      },
      batteryArr: "",
      batteryArr1: "",
      InfoBoxGridSuppliesPower: "",
      InfoBoxDistributionBox: "",
      InfoBoxLoad: "",
      InfoBoxBattery: "",
      InverterModule: "",
      WeeklyElectricityStatisticsBarChart: "",
      WeeklyElectricityStatisticsDic: "",
      DayOperationInformationLineChart: "",
      data: ""
    };
  },
  methods: {
    getEcharts() {
      // 第一个图
      var myChart1 = this.$echarts.init(document.getElementById("myChart1"));
      myChart1.setOption({
        color: ["rgb(247,147,31)", "#3AB54B"],
        tooltip: {
          trigger: "axis",
          axisPointer: {
            type: "shadow"
          }
        },
        xAxis: {
          type: "category",
          axisTick: { show: false },
          data: this.WeeklyElectricityStatisticsBarChart.XAxisData,
          axisLabel: { color: "#46a6b5", fontSize: 12 }, // x轴字体颜色
          axisLine: {
            lineStyle: { color: "#46a6b5" } // x轴坐标轴颜色
          },
          splitLine: {
            show: false
          }
        },
        yAxis: this.yAxis,
        grid: this.grid,
        series: [
          {
            name: this.WeeklyElectricityStatisticsBarChart.SeriesData[0].name,
            type: "bar",
            barGap: "40%",
            data: this.WeeklyElectricityStatisticsBarChart.SeriesData[0].data
          },
          {
            name: this.WeeklyElectricityStatisticsBarChart.SeriesData[1].name,
            type: "bar",
            data: this.WeeklyElectricityStatisticsBarChart.SeriesData[1].data,
            barGap: "40%"
          }
        ]
      });
      // 第二个图
      var myChart2 = this.$echarts.init(document.getElementById("myChart2"));
      myChart2.setOption({
        tooltip: {
          trigger: "axis",
          axisPointer: {
            type: "shadow"
          }
        },
        xAxis: {
          type: "category",
          data: this.DayOperationInformationLineChart.XAxisData,
          axisLabel: { color: "#46a6b5", fontSize: 12 }, // x轴字体颜色
          axisLine: {
            lineStyle: { color: "#46a6b5" } // x轴坐标轴颜色
          }
        },
        yAxis: this.yAxis,
        grid: this.grid,
        series: [
          {
            data: this.DayOperationInformationLineChart.SeriesData[0].data,
            type: "line",
            symbol: "triangle",
            name: this.DayOperationInformationLineChart.SeriesData[0].name,
            stack: this.DayOperationInformationLineChart.SeriesData[0].stack,
            symbolSize: 7,
            lineStyle: {
              color: "rgb(243, 128, 25)",
              width: 1
            },
            itemStyle: {
              color: "rgb(243, 128, 25)"
            }
          }
        ]
      });
      setTimeout(function() {
        window.onresize = () => {
          myChart1.resize();
          myChart2.resize();
        };
      }, 200);
    },
    getData() {
      let url = "/api/Statement/GetSystemStructure?SystemToken=0";
      this.$axios
        .get(url)
        .then(res => {
          if (res.data.code === 0) {
            this.data = res.data.data;
            this.InfoBoxGridSuppliesPower = this.data.InfoBoxGridSuppliesPower;
            this.InfoBoxDistributionBox = this.data.InfoBoxDistributionBox;
            this.InfoBoxLoad = this.data.InfoBoxLoad;
            this.InfoBoxBattery = this.data.InfoBoxBattery;
            this.InverterModule = this.data.InverterModule;
            this.getValue(this.InfoBoxGridSuppliesPower);
            this.getValue(this.InfoBoxDistributionBox);
            this.getValue(this.InfoBoxLoad);
            this.getValue(this.InfoBoxBattery);
            this.getValue(this.InverterModule);
            this.WeeklyElectricityStatisticsBarChart = this.data.WeeklyElectricityStatisticsBarChart;
            this.WeeklyElectricityStatisticsDic = this.data.WeeklyElectricityStatisticsDic.valueUnits;
            this.batteryArr = [];
            this.batteryArr.push(
              this.WeeklyElectricityStatisticsDic.WeekCharge
            );
            this.batteryArr.push(
              this.WeeklyElectricityStatisticsDic.WeekDischarging
            );
            this.batteryArr.push(
              this.WeeklyElectricityStatisticsDic.MonthCharge
            );
            this.batteryArr.push(
              this.WeeklyElectricityStatisticsDic.MonthDischarging
            );
            this.DayOperationInformationLineChart = this.data.DayOperationInformationLineChart;
            this.DayOperationInformationInfo = this.data.DayOperationInformationInfo.valueUnits;
            this.batteryArr1 = [];
            this.batteryArr1.push(this.DayOperationInformationInfo.DayCharge);
            this.batteryArr1.push(
              this.DayOperationInformationInfo.DayDischarging
            );
            this.batteryArr1.push(this.DayOperationInformationInfo.DayPower);
            this.$nextTick(() => {
              this.getEcharts();
            });
          }
        })
        .catch(err => {
          // eslint-disable-next-line no-console
          console.error(err);
        });
    },
    getValue(obj) {
      for (var key in obj.valueUnits) {
        obj[key] =
          obj.valueUnits[key].name +
          obj.valueUnits[key].value +
          obj.valueUnits[key].unit;
      }
    }
  },
  created() {
    this.getData();
  }
};
</script>

<style scoped>
section {
  padding-top: 5px;
}
.batterys-box {
  justify-content: space-between;
  padding: 2% 5% 8%;
}
.batter-box-text {
  padding-top: 10px;
}
.batter-box-text .title {
  color: #46a6b5;
  text-align: center;
}
.batter-box-text .value {
  color: #f7931f;
  text-align: center;
}
.svg {
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
}
@media screen and (max-width: 1300px) {
  .batter-box-text p {
    font-size: 10px;
  }
}

@media screen and (min-width: 1300px) {
  .batter-box-text p {
    font-size: 12px;
  }
}

@media screen and (min-width: 1500px) {
  .batter-box-text p {
    font-size: 14px;
  }
}
</style>
